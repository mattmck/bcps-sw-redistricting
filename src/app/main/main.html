<div class="container-fluid">
  <div class="row">
    <div class="col-md-12">
      <leaflet defaults="defaults" lf-center="center" width="100%" height="600px"></leaflet>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <div class="panel panel-default">
        <div class="panel-body">
          <button ng-click="takeSnapshot()" class="btn btn-primary"><span ng-hide="snapshotInProgress">Take Snapshot</span><i class="fa fa-cog fa-spin" ng-hide="!snapshotInProgress"></i></button>
          <button ng-click="loadCurrent()" class="btn btn-primary">Current Districting</button>
        </div>
     </div>
     <div class="panel panel-default">
       <div class="panel-heading">
         <h4 class="panel-title">9/30/2015 Meeting Options</h4>
      </div>
      <div class="panel-body">
        <button ng-click="loadOption1()" class="btn btn-primary">Option 1</button>
        <button ng-click="loadOption2()" class="btn btn-primary">Option 2</button>
        <button ng-click="loadOption3()" class="btn btn-primary">Option 3</button>
      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">10/14/2015 Meeting Options</h4>
     </div>
     <div class="panel-body">
       <button ng-click="loadOptionA()" class="btn btn-primary">Option A</button>
       <button ng-click="loadOptionB()" class="btn btn-primary">Option B</button>
       <button ng-click="loadOptionC()" class="btn btn-primary">Option C</button>
       <button ng-click="loadOptionD()" class="btn btn-primary">Option D</button>
       <button ng-click="loadOptionE()" class="btn btn-primary">Option E</button>
     </div>
   </div>
   <div class="panel panel-default">
     <div class="panel-heading">
       <h4 class="panel-title">10/28/2015 Meeting Options</h4>
    </div>
    <div class="panel-body">
      <button ng-click="loadOptionA1021()" class="btn btn-primary">Option A</button>
      <button ng-click="loadOptionB1021()" class="btn btn-primary">Option B</button>
      <button ng-click="loadOptionC1021()" class="btn btn-primary">Option C</button>
      <button ng-click="loadOptionD1021()" class="btn btn-primary">Option D</button>
      <button ng-click="loadOptionE1021()" class="btn btn-primary">Option E</button>
      <button ng-click="loadOptionF1021()" class="btn btn-primary">Option F</button>
      <button ng-click="loadOptionG1021()" class="btn btn-primary">Option G</button>
    </div>
  </div>
    </div>
  </div>
    <!-- <div class="row">
      <form class="form-inline">
        <div class="form-group">
          <label for="selectedSchool">Selected School<label>
          <input type="text" id="selectedSchool" readonly placeholder="{{selectedSchool.properties.NAME}}"/>
        </div>
        <div class="form-group">
          <label for="selectedPlanningBlock">Selected Planning Block<label>
          <input type="text" id="selectedPlanningBlock" readonly placeholder="{{selectedPlanningBlock.OBJECTID}}"/>
        </div>
      </form>
    </div> -->
  <div class="row col-md-12">
    <table ng-table="tableParams" class="table table-condensed table-bordered">
      <tr ng-repeat="school in $data" ng-class="{'selected-row':selectedSchoolName === school.NAME}">
        <td title="'Color'"><div style="height:20px; width:20px; background:{{schoolColors[school.NAME]}}; display:table"><div></td>
        <td title="'School'" sortable="'NAME'">{{school.NAME}}</td>
        <td title="'2015 Cap.'" sortable="'school.SRC'">{{school.SRC}}</td>
        <td title="'2016 Cap.'" sortable="'school.SRC2016 !== undefined ? school.SRC2016 : school.SRC'">{{school.SRC2016 !== undefined ? school.SRC2016 : school.SRC}}</td>
        <td title="'2017 Cap.'" sortable="'school.SRC2017 !== undefined ? school.SRC2017 : school.SRC2016 !== undefined ? school.SRC2016 : school.SRC'">{{school.SRC2017 !== undefined ? school.SRC2017 : school.SRC2016 !== undefined ? school.SRC2016 : school.SRC}}</td>
        <td title="'2015 %'"
            sortable="'school.SRC'">
            <em
              ng-class="{'text-danger':school.students / school.SRC > 1}">
                {{Math.round(school.students / school.SRC * 100)}}%
            </em>
        </td>
        <td title="'2016 %.'"
            sortable="'school.SRC2016 !== undefined ? school.SRC2016 : school.SRC'">
            <em
              ng-class="{'text-danger':school.students / (school.SRC2016 !== undefined ? school.SRC2016 : school.SRC) > 1}">
                {{Math.round(school.students / (school.SRC2016 !== undefined ? school.SRC2016 : school.SRC)*100)}}%
            </em>
        </td>
        <td title="'2017 %'"
            sortable="'school.SRC2017 !== undefined ? school.SRC2017 : school.SRC2016 !== undefined ? school.SRC2016 : school.SRC'">
            <em
              ng-class="{'text-danger':school.students / (school.SRC2017 !== undefined ? school.SRC2017 : school.SRC2016 !== undefined ? school.SRC2016 : school.SRC) > 1}">
                {{Math.round(school.students / (school.SRC2017 !== undefined ? school.SRC2017 : school.SRC2016 !== undefined ? school.SRC2016 : school.SRC)*100)}}%
            </em>
        </td>
        <td title="'Students'" sortable="'school.students'">{{school.students}}</td>
        <td title="'% Walkable'" sortable="'school.walkablePercent'">{{Math.round(school.walkablePercent*100)}}%</td>
      </tr>
    </table>
  </div>
  <div ng-hide="hideSnapshot" id="snapshot">
  </div>
</div>
